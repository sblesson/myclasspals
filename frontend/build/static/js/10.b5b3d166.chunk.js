(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{495:function(e,t,a){"use strict";var n=a(99),r=a(17),o=a(0),c=a.n(o),s=a(15),l=a(257),i=a(483);a(143);t.a=Object(s.b)(function(e){return{post:e.post}},{deletePost:l.f,deleteComment:l.e})(function(e){var t=e.deletePost,a=e.deleteComment,s=e.postId,l=e.postType,u=e.commentId,m=e.isSinglePost,f=e.post,d=Object(o.useState)("Please don't delete me!"),p=Object(r.a)(d,2),h=p[0],v=(p[1],Object(o.useState)(!1)),b=Object(r.a)(v,2),y=b[0],g=b[1],E=function(){g(!y)};return c.a.createElement("div",null,c.a.createElement("div",{className:"account-info-action-container",onClick:E},c.a.createElement("div",{className:"account-info-delete-button-right"},c.a.createElement("span",null,"Delete"))),c.a.createElement(i.a,Object(n.a)({title:h,centered:!0,visible:y,onOk:function(){"comment"===l?a(s,u,m):s?t(s):f&&f.currentPost&&f.currentPost._id&&t(f.currentPost._id),g(!1)},okText:"Delete",onCancel:E,destroyOnClose:!0,cancelButtonProps:{style:{display:"none"}}},"destroyOnClose",!0),c.a.createElement("div",null,"Deleting this ",l," will removes it forever. Are you sure you want to delete?")))})},509:function(e,t,a){},516:function(e,t,a){"use strict";var n=a(99),r=a(17),o=a(0),c=a.n(o),s=a(53),l=a(477),i=a(483),u=a(541),m={name:"form",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]}},f=a(112),d=function(e,t){return c.a.createElement(f.a,Object.assign({},e,{ref:t,icon:m}))};d.displayName="FormOutlined";var p=c.a.forwardRef(d),h=a(72),v=a(20),b=a(480),y=a(241),g=a(481),E=a(482),O=a(15),j=a(257),w=a(479),N=a(32),P=Object(O.b)(function(e){return{auth:e.auth}},{searchUser:N.g})(function(e){var t=e.searchUser,a=e.auth,n=w.a.Option,r=a&&a.searchUserResult&&a.searchUserResult.length>0&&a.searchUserResult.map(function(e,t){return c.a.createElement(n,{key:t,value:e.email},c.a.createElement("span",{style:{fontWeigth:"bolder"}}," ",e.email))});return c.a.createElement(w.a,{name:"endUserId",showSearch:!0,placeholder:"Type name",onSearch:function(e){e&&setTimeout(function(){t(e)},1e3*Math.random())},onChange:function(e,t){a&&a.searchUserResult&&a.searchUserResult.length>0&&(a.selectedUser=a.searchUserResult[t.key])}},r)}),S=(a(509),function(e){return{hideModal:e.hideModal,currentGroup:e.group.currentGroup,auth:e.auth}});t.a=Object(O.b)(S,{sendPrivateMessage:j.j,mapDispatchToProps:S})(Object(h.f)(function(e){var t,a=e.sendPrivateMessage,m=(e.history,e.auth),f=e.toAddress,d=e.noMessagesFound,h=Object(o.useState)("small"),O=Object(r.a)(h,2),j=O[0],w=(O[1],Object(o.useState)(!1)),N=Object(r.a)(w,2),S=N[0],C=N[1],x=Object(o.useState)("Send Private Message"),I=Object(r.a)(x,2),k=I[0],_=(I[1],function(){C(!S)}),U={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},M=function(e){return e?void 0:"required"},T=(c.a.createElement(u.a,{onClick:function(e){return console.log(e,"custom removeIcon event")}}),c.a.createElement(v.c,{initialValues:{userId:m&&m.user&&m.user._id?m.user._id:null,endUserId:f||"",subject:"",message:"",isPrivate:!0},onSubmit:function(e,t){a(e),C(!1)},validator:function(){return{}},render:function(){return c.a.createElement("div",{style:{flex:1,padding:10}},c.a.createElement(b.a,Object.assign({className:"form-wrapper"},U,{layout:"vertical",initialValues:{size:j}}),f?"":c.a.createElement(y.a,{name:"endUserId",label:"Select your buddies",required:!0,validate:M},c.a.createElement(P,null)),c.a.createElement(y.a,{name:"subject",label:"Subject",required:!0,validate:M},c.a.createElement(g.a,{name:"subject",placeholder:"Subject"})),c.a.createElement(y.a,{name:"message",label:"Your Message",required:!1},c.a.createElement(g.a.TextArea,{className:"post-form-text-input post-form-textarea",name:"message",cols:"30",rows:"5",placeholder:"Enter your message ...",required:!1})),c.a.createElement(E.a,{className:"ant-btn btn-primary"}," Send")))}})),z=c.a.createElement("div",{className:"private-message-modal",onClick:_},c.a.createElement("div",{as:"h4",className:"message-head-title"},"Inbox"),c.a.createElement("div",{as:"h4",className:"message-head-title message-head-link",onClick:_},c.a.createElement(p,{className:"message-head-icon"}),"Compose")),R=c.a.createElement("div",{className:"private-message-modal",onClick:_},c.a.createElement(s.a,{type:"primary",className:"btn-primary",style:{padding:"4px 10px",fontSize:"12px"}},"Message")),L=c.a.createElement("div",{className:"private-message-modal",onClick:_},c.a.createElement(l.a,{status:"warning",subTitle:"No messages found!",extra:c.a.createElement("div",{as:"h4",className:"message-head-title message-head-link",onClick:_},c.a.createElement(p,{className:"message-head-icon"}),"Compose")}));return c.a.createElement("div",null,d&&L,!d&&!f&&z,f&&R,c.a.createElement(i.a,(t={title:k,centered:!0,visible:S,onOk:function(){C(!1)},onCancel:_,destroyOnClose:!0,cancelButtonProps:{style:{display:"none"}}},Object(n.a)(t,"destroyOnClose",!0),Object(n.a)(t,"footer",null),t),T))}))},526:function(e,t,a){"use strict";a.d(t,"a",function(){return v});var n=a(0),r=a(3),o=a.n(r),c=a(33),s=a(13);function l(e){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function m(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},v=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=f(this,d(t).apply(this,arguments))).state={scale:1,mounted:!1,isImgExist:!0},e.setScale=function(){if(e.avatarChildren&&e.avatarNode){var t=e.avatarChildren.offsetWidth,a=e.avatarNode.offsetWidth;0===t||0===a||e.lastChildrenWidth===t&&e.lastNodeWidth===a||(e.lastChildrenWidth=t,e.lastNodeWidth=a,e.setState({scale:a-8<t?(a-8)/t:1}))}},e.handleImgLoadError=function(){var t=e.props.onError;!1!==(t?t():void 0)&&e.setState({isImgExist:!1})},e.renderAvatar=function(t){var a,r,c=t.getPrefixCls,l=e.props,m=l.prefixCls,f=l.shape,d=l.size,p=l.src,v=l.srcSet,b=l.icon,y=l.className,g=l.alt,E=h(l,["prefixCls","shape","size","src","srcSet","icon","className","alt"]);Object(s.a)(!("string"===typeof b&&b.length>2),"Avatar","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(b,"` at https://ant.design/components/icon"));var O=e.state,j=O.isImgExist,w=O.scale,N=(O.mounted,c("avatar",m)),P=o()((u(a={},"".concat(N,"-lg"),"large"===d),u(a,"".concat(N,"-sm"),"small"===d),a)),S=o()(N,y,P,(u(r={},"".concat(N,"-").concat(f),f),u(r,"".concat(N,"-image"),p&&j),u(r,"".concat(N,"-icon"),b),r)),C="number"===typeof d?{width:d,height:d,lineHeight:"".concat(d,"px"),fontSize:b?d/2:18}:{},x=e.props.children;if(p&&j)x=n.createElement("img",{src:p,srcSet:v,onError:e.handleImgLoadError,alt:g});else if(b)x=b;else{if(e.avatarChildren||1!==w){var I="scale(".concat(w,") translateX(-50%)"),k={msTransform:I,WebkitTransform:I,transform:I},_="number"===typeof d?{lineHeight:"".concat(d,"px")}:{};x=n.createElement("span",{className:"".concat(N,"-string"),ref:function(t){return e.avatarChildren=t},style:i(i({},_),k)},x)}else{x=n.createElement("span",{className:"".concat(N,"-string"),style:{opacity:0},ref:function(t){return e.avatarChildren=t}},x)}}return n.createElement("span",i({},E,{style:i(i({},C),E.style),className:S,ref:function(t){return e.avatarNode=t}}),x)},e}var a,r,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,n["Component"]),a=t,(r=[{key:"componentDidMount",value:function(){this.setScale(),this.setState({mounted:!0})}},{key:"componentDidUpdate",value:function(e){this.setScale(),e.src!==this.props.src&&this.setState({isImgExist:!0,scale:1})}},{key:"render",value:function(){return n.createElement(c.a,null,this.renderAvatar)}}])&&m(a.prototype,r),l&&m(a,l),t}();v.defaultProps={shape:"circle",size:"default"}},541:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o={name:"star",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM664.8 561.6l36.1 210.3L512 672.7 323.1 772l36.1-210.3-152.8-149L417.6 382 512 190.7 606.4 382l211.2 30.7-152.8 148.9z"}}]}},c=a(112),s=function(e,t){return r.a.createElement(c.a,Object.assign({},e,{ref:t,icon:o}))};s.displayName="StarOutlined";t.a=r.a.forwardRef(s)},574:function(e,t,a){},575:function(e,t,a){"use strict";a.d(t,"a",function(){return p});var n=a(0),r=a(3),o=a.n(r),c=a(33);function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function i(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};var p=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=u(this,m(t).apply(this,arguments))).renderNested=function(e,t){return n.createElement("div",{className:o()("".concat(e,"-nested"))},t)},e.renderComment=function(t){var a,r,c,s=t.getPrefixCls,i=t.direction,u=e.props,m=u.actions,f=u.author,p=u.avatar,h=u.children,v=u.className,b=u.content,y=u.prefixCls,g=u.style,E=u.datetime,O=d(u,["actions","author","avatar","children","className","content","prefixCls","style","datetime"]),j=s("comment",y),w=n.createElement("div",{className:"".concat(j,"-avatar")},"string"===typeof p?n.createElement("img",{src:p,alt:"comment-avatar"}):p),N=m&&m.length?n.createElement("ul",{className:"".concat(j,"-actions")},function(e){return e&&e.length?e.map(function(e,t){return n.createElement("li",{key:"action-".concat(t)},e)}):null}(m)):null,P=n.createElement("div",{className:"".concat(j,"-content-author")},f&&n.createElement("span",{className:"".concat(j,"-content-author-name")},f),E&&n.createElement("span",{className:"".concat(j,"-content-author-time")},E)),S=n.createElement("div",{className:"".concat(j,"-content")},P,n.createElement("div",{className:"".concat(j,"-content-detail")},b),N),C=n.createElement("div",{className:"".concat(j,"-inner")},w,S),x=o()(j,v,(a={},r="".concat(j,"-rtl"),c="rtl"===i,r in a?Object.defineProperty(a,r,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[r]=c,a));return n.createElement("div",l({},O,{className:x,style:g}),C,h?e.renderNested(j,h):null)},e}var a,r,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,n["Component"]),a=t,(r=[{key:"render",value:function(){return n.createElement(c.a,null,this.renderComment)}}])&&i(a.prototype,r),s&&i(a,s),t}()},631:function(e,t,a){"use strict";a.r(t);var n=a(99),r=a(5),o=a(17),c=a(0),s=a.n(c),l=a(15),i=a(475),u=a(25),m=a(549),f=a(3),d=a.n(f),p=a(33);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var b=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},y=function(e){return c.createElement(p.a,null,function(t){var a,n=t.getPrefixCls,r=e.prefixCls,o=e.type,s=void 0===o?"horizontal":o,l=e.orientation,i=void 0===l?"center":l,u=e.className,m=e.children,f=e.dashed,p=b(e,["prefixCls","type","orientation","className","children","dashed"]),y=n("divider",r),g=i.length>0?"-".concat(i):i,E=d()(u,y,"".concat(y,"-").concat(s),(v(a={},"".concat(y,"-with-text").concat(g),m),v(a,"".concat(y,"-dashed"),!!f),a));return c.createElement("div",h({className:E},p,{role:"separator"}),m&&c.createElement("span",{className:"".concat(y,"-inner-text")},m))})},g=a(257),E=a(516),O=a(181),j=a(628),w=a(526),N=a(629),P=a(621),S=a(575),C=a(256),x=a(53),I=a(495),k=a(623),_=a(497),U=a.n(_);a(574),t.default=Object(l.b)(function(e){return{post:e.post,auth:e.auth}},{getPrivateMessages:g.h,getPost:g.g,addMessageReply:g.c})(function(e){var t=e.getPrivateMessages,a=e.getPost,l=e.addMessageReply,f=e.post,d=f.messages,p=f.loading,h=f.currentPost,v=e.auth,b=e.history,g=i.a.Sider,_=i.a.Content,M=Object(c.useState)(null),T=Object(o.a)(M,2),z=T[0],R=T[1],L=Object(c.useState)({submitting:!1,value:""}),A=Object(o.a)(L,2),D=A[0],W=A[1];Object(c.useEffect)(function(){if(v&&v.user&&v.user.email)t({userId:v.user.email,isPrivate:!0});else{var e=localStorage.getItem("userEmail");t({userId:e,isPrivate:!0})}},[t,v.user._id]),Object(c.useEffect)(function(){var e=d&&d.length>0?z||d[0]:null;if(e){a(e._id);var t="/messages/".concat(e._id);b.push(t),R(e)}},[d]);var q=O.a.TextArea,B=s.a.createElement(u.a,null,s.a.createElement(u.a.Item,null," ",s.a.createElement(I.a,{postType:"post"})));return s.a.createElement(c.Fragment,null,p?s.a.createElement(m.a,null):s.a.createElement(i.a,null,d&&d.length>0?s.a.createElement(g,{style:{overflow:"auto",height:"100vh",position:"fixed",left:"50",right:"10"},className:"message-inbox-list"},s.a.createElement("div",{className:"message-head"},s.a.createElement(E.a,null)),s.a.createElement(j.a,{itemLayout:"horizontal",dataSource:d,renderItem:function(e){return s.a.createElement(j.a.Item,{onClick:function(t){return function(e,t){R(e),a(e._id);var n="/messages/".concat(e._id);b.push(n)}(e)},className:z===e?" selected":""},s.a.createElement(j.a.Item.Meta,{avatar:s.a.createElement(w.a,{size:"large",gap:4,className:"avatar-icon"},v.user.email===e.endUserId?e.userId.charAt(0):e.endUserId?e.endUserId.charAt(0):""),title:s.a.createElement(U.a,{length:40,tooltip:!0},e.subject),description:s.a.createElement(U.a,{length:40,tooltip:!0},v.user.email===e.endUserId?e.userId:e.endUserId)}))}})):"",s.a.createElement(_,{style:{marginLeft:200,marginTop:"24",overflow:"initial"}},h?s.a.createElement(N.a,{title:s.a.createElement(U.a,{length:80,tooltip:!0},h.subject),extra:s.a.createElement(P.a,{overlay:B,placement:"bottomCenter",className:"ant-dropdown-link"},s.a.createElement(k.a,null)),style:{width:"50%"}},s.a.createElement(j.a,null,s.a.createElement(j.a.Item,null,s.a.createElement(S.a,{avatar:s.a.createElement(w.a,{size:"small",className:"avatar-icon",gap:4},h.userId.charAt(0)),key:h._id,author:h.endUserId,content:h.message})),h.comments&&h.comments.length>0&&h.comments.map(function(e,t){return s.a.createElement(j.a.Item,{key:t},s.a.createElement(S.a,{key:e._id,author:e.userId,avatar:s.a.createElement(w.a,{className:"avatar-icon",size:"small",gap:4},e.userId.charAt(0)),content:e.message,datetime:e.datetime}))})),s.a.createElement(y,{style:{margin:0}}),s.a.createElement(S.a,{style:{width:"100%"},content:s.a.createElement("div",null,s.a.createElement(C.a.Item,null,s.a.createElement(q,{name:"reply",className:"input-block-level form-control",onChange:function(e){return(t=e).preventDefault(),void W(Object(r.a)({},D,Object(n.a)({},"value",t.target.value)));var t},placeholder:"Type a message",value:D.value})),s.a.createElement(C.a.Item,null,s.a.createElement(x.a,{htmlType:"button",onClick:function(e){e.preventDefault(),e.stopPropagation();var t={message:D.value,endUserId:z.endUserId,subject:z.subject};W(Object(r.a)({},D,Object(n.a)({},"submitting",!0))),W(Object(r.a)({},D,Object(n.a)({},"value",""))),l(z._id,t)},type:"primary",style:{float:"right"},className:"btn-primary"},"Send")))})):s.a.createElement(E.a,{noMessagesFound:!0}))))})}}]);
//# sourceMappingURL=10.b5b3d166.chunk.js.map