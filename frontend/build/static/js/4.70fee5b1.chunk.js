(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[4],{587:function(e,t,a){},588:function(e,t,a){},592:function(e,t,a){"use strict";var r=a(21),n=a(0),o=a.n(n),c=a(20),l=a(19),i=a(10),u=a(692),s=a(86),p=a(699),m=a(55),d=a(334),f=a(643),h=a(584),b=a.n(h),g=a(593),v=(a(587),a(702)),y=a(244);t.a=Object(c.b)((function(e,t){return{auth:e.auth,group:e.group}}),{acceptUserGroupInvitation:y.a,requestToJoinUserGroup:y.l})((function(e){var t=e.currentGroup,a=e.index,c=e.type,h=e.auth,y=(e.group,e.acceptUserGroupInvitation),E=e.requestToJoinUserGroup,O=(e.deleteGroup,e.newRegistration),C=Object(l.g)(),S=u.a.Meta,G=Object(n.useState)(!1),j=Object(r.a)(G,2),N=(j[0],j[1],function(e){E({groupId:e.id,role:"member",requestorUserId:h.user.email},e,(function(){O&&C.push("/dashboard/".concat(e.id))}))}),w=o.a.createElement(s.a,{onClick:function(e){"deletegroup"===e&&console.log("deletegroup")}},o.a.createElement(s.a.Item,{key:"deletegroup"}," ",o.a.createElement(g.a,{groupId:t.id}))),k=function(e){y({groupId:e.id,role:"member",invitedUserId:h.user.email},(function(){O&&C.push("/dashboard/".concat(e.id))}))};p.a,v.a;return o.a.createElement(u.a,{key:a,className:"discover-group-card",hoverable:!0},o.a.createElement(i.b,{to:"/group/".concat(t.id)},o.a.createElement(S,{avatar:o.a.createElement(f.a,{style:{textTransform:"uppercase",background:"rgb(0, 196, 204)"},shape:"square",icon:t.groupName.charAt(0)}),title:t.groupName})),o.a.createElement("div",{className:"group-card-details"},t.privacy&&o.a.createElement("span",{className:"group-card-details__privacy"},function(e){if(e){var t=e.toLowerCase();return t=b.a.startCase(t),"PRIVATE"===e?o.a.createElement("span",null,o.a.createElement("i",{className:"fa fa-lock",title:"private group"}),"\xa0",t):o.a.createElement("span",null,o.a.createElement("i",{className:"fa fa-globe",title:"public group"}),"\xa0",t)}}(t.privacy)),t.userGroupMembers&&t.userGroupMembers.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"group-card-details__members"},function(e){if(e&&e.userGroupMembers){if(e.userGroupMembers.length<=1)return"".concat(e.userGroupMembers.length," member");if(e.userGroupMembers.length>1)return"".concat(e.userGroupMembers.length," members")}}(t)),o.a.createElement("span",{className:"group-card-details__role"},function(e){return"admin"===e.role?o.a.createElement(d.a,{color:"blue"},e.role):"member"===e.role?o.a.createElement(d.a,{color:"geekblue"},e.role):"pending invitation"===e.role?o.a.createElement(d.a,{color:"green"},e.role):void 0}(t))),o.a.createElement("div",{className:"group-card-details__action"},function(e,t){if(e)switch(t){case"mygroup":case"discover":if(null===e.role)return"PUBLIC"===e.privacy?o.a.createElement(m.a,{key:"".concat(e.id,"_join_btn"),className:"btn-primary",onClick:function(){return N(e)}},"Join"):o.a.createElement(m.a,{className:"btn-primary",key:"".concat(e.id,"_request_btn"),onClick:function(){return N(e)}},"Request");if("admin"===e.role)return o.a.createElement(p.a,{overlay:w,className:"group-card-action-dropdown"},o.a.createElement("a",{className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()}},o.a.createElement(v.a,null)));if("member"===e.role)return null;if("Pending Invitation"===e.role||"Pending Requests"===e.role)return o.a.createElement(d.a,{color:"green"},e.role);case"pendingInvitedUserGroups":return"discover"===t&&"PRIVATE"===e.privacy?o.a.createElement(m.a,{key:"".concat(e.id,"_pending_join_btn"),className:"btn-primary",onClick:function(){return k(e)}},"Request"):o.a.createElement(m.a,{key:"".concat(e.id,"_pending_join_btn"),className:"btn-primary",onClick:function(){return k(e)}},"Join");default:return null}}(t,c))))}))},593:function(e,t,a){"use strict";var r=a(245),n=a(21),o=a(0),c=a.n(o),l=a(20),i=a(244),u=a(570);a(584);t.a=Object(l.b)((function(e){return{group:e.group}}),{deleteGroup:i.g})((function(e){var t=e.deleteGroup,a=e.groupId;e.newRegistration;console.log("inside DeleteGroupModal");var l=Object(o.useState)("Please don't delete me!"),i=Object(n.a)(l,2),s=i[0],p=(i[1],Object(o.useState)(!1)),m=Object(n.a)(p,2),d=m[0],f=m[1],h=function(){f(!d)};return c.a.createElement("div",null,c.a.createElement("div",{className:"account-info-action-container",onClick:h},c.a.createElement("div",{className:"account-info-delete-button-right"},c.a.createElement("span",null,"Delete"))),c.a.createElement(u.a,Object(r.a)({title:s,centered:!0,visible:d,onOk:function(){t(a),f(!1)},okText:"Delete",onCancel:h,destroyOnClose:!0,cancelButtonProps:{style:{display:"none"}}},"destroyOnClose",!0),c.a.createElement("div",null,"Deleting this grouop will removes it forever. Are you sure you want to delete?")))}))},595:function(e,t,a){"use strict";var r=a(245),n=a(21),o=a(0),c=a.n(o),l=a(629),i=a(19),u=a(55),s=a(570),p=a(20),m=a(584),d=a.n(m),f=a(22),h=a(336),b=a(575),g=a(239),v=a(335),y=a(576),E=a(244),O=a(5),C=a.n(O),S=a(13),G=a(8),j=a.n(G),N=a(6),w=a(3),k=function(){return function(){var e=Object(S.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:w.r});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},x=Object(p.b)((function(e){return{school:e.school}}),{fetchSchool:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(S.a)(C.a.mark((function t(a){var r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.get("/school/schoollist?searchkey=".concat(e));case 3:r=t.sent,a({type:w.y,payload:r.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Object(N.a)(t.t0,w.z);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},clearAutoCompleteSchoolSearchResult:k})((function(e){var t=e.fetchSchool,a=e.school,r=h.a.Option;Object(o.useEffect)((function(){k()}),[]);var n=a&&a.results&&a.results.length>0&&a.results.map((function(e,t){var a=e.schoolName+", "+e.city+", "+e.state+", "+e.zip;return c.a.createElement(r,{key:a,value:a},c.a.createElement("span",{style:{fontWeigth:"bolder"}}," ",a))}));return c.a.createElement(h.a,{name:"schoolSelect",showSearch:!0,placeholder:"Type School Name",onSearch:function(e){e&&d.a.debounce((function(){t(e)}),1e3)()},allowClear:!0},n)})),R=[{id:"PK",title:"PK"},{id:"TK",title:"TK"},{id:"KG",title:"KG"},{id:"01",title:"Grade 1"},{id:"02",title:"Grade 2"},{id:"03",title:"Grade 3"},{id:"04",title:"Grade 4"},{id:"05",title:"Grade 5"},{id:"06",title:"Grade 6"},{id:"07",title:"Grade 7"},{id:"08",title:"Grade 8"},{id:"09",title:"Grade 9"},{id:"10",title:"Grade 10"},{id:"11",title:"Grade 11"},{id:"12",title:"Grade 12"}],_=function(){h.a.Option;var e=R&&R.length>0&&R.map((function(e){return c.a.createElement(h.a.Option,{key:e.id,value:e.id},e.title)}));return c.a.createElement(h.a,{name:"grade",style:{width:"100%"},placeholder:"Select Grade"},e)},A=Object(p.b)((function(e){return{group:e.group,auth:e.auth,school:e.school.results}}),{addGroup:E.b})(Object(i.h)((function(e){var t=e.auth,a=(e.group,e.addGroup),r=e.setModal,l=e.history,i=Object(o.useState)(!1),u=Object(n.a)(i,2),s=u[0],p=u[1],m=function(e){return e?void 0:"required"},d=Object(o.useState)("small"),E=Object(n.a)(d,2),O=E[0],C=(E[1],Object(o.useState)(!0)),S=Object(n.a)(C,2),G=(S[0],S[1],h.a.Option,{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}}),j=c.a.createElement(f.c,{initialValues:{groupName:"",privacy:"PRIVATE",grade:"",role:"admin"},onSubmit:function(e,n){!function(e,n){if(p(!0),e.userGroupMembers=[{_id:t.user._id,name:t.user.name,role:"admin"}],e.schoolSelect){var o=e.schoolSelect.split(",");e.schoolName=o[0],e.schoolCity=o[1],e.schoolState=o[2],e.schoolZipCode=o[3],delete e.schoolSelect}a(JSON.stringify(e),(function(e){r(!1),console.log(e),e&&e.userGroup&&e.userGroup.id&&l.push("/dashboard/"+e.userGroup.id)})),n.resetForm(),p(!1)}(e,n)},validator:function(){return{}},render:function(){return c.a.createElement("div",{style:{flex:1,padding:10}},c.a.createElement(b.a,Object.assign({className:"form-wrapper"},G,{layout:"vertical",initialValues:{size:O}}),c.a.createElement(g.a,{name:"groupName",label:"Group Name",required:!0,validate:m},c.a.createElement(v.a,{name:"groupName",placeholder:"Group Name or Room Name"})),c.a.createElement(g.a,{name:"schoolData",required:!1,label:"Select School"},c.a.createElement(x,null)),c.a.createElement(g.a,{name:"gradeLabel",label:"Select Grade"},c.a.createElement(_,null)),c.a.createElement(g.a,{name:"groupDiscovery",label:"Group Privacy"},c.a.createElement(h.a,{name:"privacy",defaultValue:"PRIVATE"},c.a.createElement(h.a.Option,{value:"PRIVATE",title:"Private \u2013 Needs approval for membership, only members can view post."},"Private \u2013 Needs approval for membership, post only members can view."),c.a.createElement(h.a.Option,{value:"PUBLIC",title:"Public \u2013 Anyone can join, see posts etc."},"Public \u2013 Anyone can join, see posts etc."))),c.a.createElement(g.a,{name:"aboutGroup",label:"About Group",style:{marginBottom:16},required:!1},c.a.createElement(v.a.TextArea,{className:"post-form-text-input post-form-textarea",name:"aboutGroup",cols:"50",rows:"3",placeholder:"Describe your group's purpose"})),c.a.createElement(g.a,{name:"groupRules",label:"Group Rules",required:!1},c.a.createElement(v.a.TextArea,{className:"post-form-text-input post-form-textarea",name:"groupRules",cols:"50",rows:"3",placeholder:"Start with the right tone by sharing your purpose and rules for your group. You can come back and edit this later, too. Note: all groups operate under myclasspals's global guidelines in addition to the guidelines you choose."})," "),c.a.createElement(y.a,{className:"ant-btn btn-primary",loading:s}," ","Create")))}});return c.a.createElement(o.Fragment,null,j)}))),P=(a(588),c.a.memo((function(e){var t,a=e.newRegistration,i=Object(o.useState)(!1),p=Object(n.a)(i,2),m=p[0],d=p[1],f=function(e){e.preventDefault(),d(!m)},h=Object(o.useState)("small"),b=Object(n.a)(h,2);b[0],b[1];return c.a.createElement(o.Fragment,null,a?c.a.createElement("div",{onClick:function(e){return f(e)},className:"onboarding-action-container create-action"},c.a.createElement("i",{className:"fas fa-plus-circle"}),c.a.createElement("div",{className:"onboarding-action-buttons"},"Create new school/class group")):c.a.createElement("div",{style:{marginLeft:"1.3rem"},onClick:function(e){return f(e)}},c.a.createElement(u.a,{className:"btn-primary add-group",icon:c.a.createElement(l.a,null)},"Create Group")),c.a.createElement(s.a,(t={className:"create-group-modal",title:"Create new group",centered:!0,closable:!0,visible:m,onOk:function(){d(!1)},okText:"Create",onCancel:f,destroyOnClose:!0,cancelButtonProps:{style:{display:"none"}}},Object(r.a)(t,"destroyOnClose",!0),Object(r.a)(t,"footer",null),t),c.a.createElement(A,{isNewGroup:!0,setModal:d})))})));t.a=Object(i.h)(P)},597:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(20),c=a(190),l=a(609),i=a(243),u=a(584),s=a.n(u),p=(a(246),a(683)),m=a(244);a(613);t.a=Object(o.b)((function(e){return{group:e.group}}),{searchGroupWithFilters:m.n,getGroupAutoComplete:m.i,clearAutoCompleteGroupSearchResult:m.d})((function(e){var t=e.getGroupAutoComplete,a=e.clearAutoCompleteGroupSearchResult,o=e.searchGroupWithFilters,u=e.group,d=c.a.Option,f=c.a.OptGroup;Object(r.useEffect)((function(){return function(){a(),Object(m.e)()}}),[]);var h=u&&u.autoCompleteSearchResult&&u.autoCompleteSearchResult.length>0&&u.autoCompleteSearchResult.map((function(e){return n.a.createElement(f,{label:e.label,key:e.label},e.options&&e.options.length>0&&e.options.map((function(e){if(e)return n.a.createElement(d,{key:e,value:e},n.a.createElement("div",null," ",n.a.createElement(p.a,{twoToneColor:"#52c41a",style:{fontSize:".8rem"}}),n.a.createElement("span",{style:{marginLeft:".5rem",paddingTop:".3rem",fontSize:".8rem",display:"inline-block"}},e)))})))}));return n.a.createElement(l.a,{style:{width:"100%"},onSelect:function(e){if(e){var t=e.split(",")[0];o({groupKeyword:t,schoolName:t})}},onSearch:function(e){e&&s.a.debounce((function(){t(e)}),5e3)()},allowClear:!0},h||n.a.createElement(i.a.Search,{size:"large",placeholder:"Type school name or group name"}))}))},607:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(20),c=a(190),l=a(5),i=a.n(l),u=a(13),s=a(8),p=a.n(s),m=a(6),d=a(3),f=a(244);t.a=Object(o.b)((function(e){return{address:e.address}}),{getCityData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(u.a)(i.a.mark((function t(a){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("/postaladdress/searchbycity?searchkey=".concat(e));case 3:r=t.sent,a({type:d.C,payload:r.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Object(m.a)(t.t0,"Error occured when fetching city");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},searchGroupWithFilters:f.n})((function(e){var t=e.getCityData,a=e.address,r=e.searchGroupWithFilters,o=c.a.Option,l=a&&a.results&&a.results.length>0&&a.results.map((function(e,t){var a=JSON.stringify(e);return n.a.createElement(o,{key:t,value:a},e.city,", ",e.statecode," ",n.a.createElement("br",null),e.postalcode)}));return n.a.createElement(c.a,{style:{width:"100%"},showSearch:!0,allowClear:!0,placeholder:"Search by city or zipcode",onSearch:function(e){setTimeout((function(){t(e)}),1e3*Math.random())},onSelect:function(e,t){a&&a.results&&a.results.length>0&&e&&(a.selectedAddress=JSON.parse(e),r({zipcode:a.selectedAddress.postalcode,city:a.selectedAddress.city}))}},l)}))},609:function(e,t,a){"use strict";var r=a(0),n=a(50),o=a(2),c=a.n(o),l=a(15),i=a(190),u=a(29),s=a(11);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=i.a.Option,f=i.a;function h(e){return e&&e.type&&(e.type.isSelectOption||e.type.isSelectOptGroup)}var b=r.forwardRef((function(e,t){var a,o=e.prefixCls,b=e.className,g=e.children,v=e.dataSource,y=Object(n.a)(g),E=r.useRef();r.useImperativeHandle(t,(function(){return E.current})),1===y.length&&r.isValidElement(y[0])&&!h(y[0])&&(a=y[0]);var O,C=function(){return a};return O=y.length&&h(y[0])?g:v?v.map((function(e){if(r.isValidElement(e))return e;switch(m(e)){case"string":return r.createElement(d,{key:e,value:e},e);case"object":var t=e.value;return r.createElement(d,{key:t,value:t},e.text);default:throw new Error("AutoComplete[dataSource] only supports type `string[] | Object[]`.")}})):[],r.useEffect((function(){Object(s.a)(!("dataSource"in e),"AutoComplete","`dataSource` is deprecated, please use `options` instead."),Object(s.a)(!a||!("size"in e),"AutoComplete","You need to control style self instead of setting `size` when using customize input.")}),[]),r.createElement(u.a,null,(function(t){var a=(0,t.getPrefixCls)("select",o);return r.createElement(f,p({ref:E},Object(l.a)(e,["dataSource"]),{prefixCls:a,className:c()(b,"".concat(a,"-auto-complete")),mode:i.a.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:C}),O)}))}));b.Option=d,t.a=b},613:function(e,t,a){},629:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o={name:"usergroup-add",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M892 772h-80v-80c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v80h-80c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h80v80c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-80h80c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM373.5 498.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 01-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.8-1.7-203.2 89.2-203.2 200 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 008 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.8-1.1 6.4-4.8 5.9-8.8zM824 472c0-109.4-87.9-198.3-196.9-200C516.3 270.3 424 361.2 424 472c0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 00-86.4 60.4C357 742.6 326 814.8 324 891.8a8 8 0 008 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5C505.8 695.7 563 672 624 672c110.4 0 200-89.5 200-200zm-109.5 90.5C690.3 586.7 658.2 600 624 600s-66.3-13.3-90.5-37.5a127.26 127.26 0 01-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4-.1 34.2-13.4 66.3-37.6 90.5z"}}]}},c=a(101),l=function(e,t){return n.a.createElement(c.a,Object.assign({},e,{ref:t,icon:o}))};l.displayName="UsergroupAddOutlined";t.a=n.a.forwardRef(l)},683:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o={name:"search",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]}},c=a(101),l=function(e,t){return n.a.createElement(c.a,Object.assign({},e,{ref:t,icon:o}))};l.displayName="SearchOutlined";t.a=n.a.forwardRef(l)}}]);
//# sourceMappingURL=4.70fee5b1.chunk.js.map