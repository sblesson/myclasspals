(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[12],{585:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"j",(function(){return p})),a.d(t,"i",(function(){return m})),a.d(t,"k",(function(){return d})),a.d(t,"h",(function(){return f})),a.d(t,"c",(function(){return v})),a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return h})),a.d(t,"g",(function(){return E})),a.d(t,"f",(function(){return y})),a.d(t,"e",(function(){return O}));var n=a(5),r=a.n(n),c=a(13),s=a(8),o=a.n(s),u=a(6),i=a(3),l=(a(52),function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){var c,s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={headers:{"Content-Type":"application/json"}},a.prev=1,a.next=4,o.a.post("/post/createpost",e,c);case 4:s=a.sent,n({type:i.h,payload:s.data}),n(Object(u.c)("Post created","success")),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),Object(u.a)(a.t0,"ADD_POST_ERROR");case 12:t();case 13:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}),p=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){var c,s,l;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s={headers:{"Content-Type":"application/json"}},a.prev=1,a.next=4,o.a.post("/post/searchpost",e,s,{cancelToken:new o.a.CancelToken((function(e){return c=e}))});case 4:l=a.sent,n({type:i.jb,payload:l.data}),t(l.data.post,c),a.next=14;break;case 9:if(a.prev=9,a.t0=a.catch(1),!o.a.isCancel(a.t0)){a.next=13;break}return a.abrupt("return");case 13:Object(u.a)(a.t0,"SEARCH_POST_ERROR");case 14:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()},m=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){var c,s,l;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=o.a.CancelToken.source(),s={headers:{"Content-Type":"application/json"}},a.prev=2,a.next=5,o.a.post("/post/searchpost",e,s,{cancelToken:c.token});case 5:l=a.sent,n({type:i.L,payload:l.data.post}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),Object(u.a)(a.t0,"CREATE_PRIVATE_POST_ERROR");case 12:t(c);case 13:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e){return a.apply(this,arguments)}}()},d=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){var c,s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={headers:{"Content-Type":"application/json"}},a.prev=1,a.next=4,o.a.post("/post/createpost",e,c);case 4:s=a.sent,n({type:i.lb,payload:s.data}),n(Object(u.c)("New Message Created","success")),t(s.data),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),Object(u.a)(a.t0,"CREATE_POST_ERROR");case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.get("/post/getpost?id=".concat(e));case 3:n=t.sent,a({type:i.I,payload:n.data.post}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Object(u.a)(t.t0,"GET_POST_ERROR");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},v=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){var c,s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={headers:{"Content-Type":"application/json"}},a.prev=1,a.next=4,o.a.post("/post/".concat(e,"/addcomment"),t,c);case 4:s=a.sent,n({type:i.g,payload:{postId:e,comments:s.data.post.comments}}),n(Object(u.c)("Comment Added","success")),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),Object(u.a)(a.t0,"ADD_MESSAGE_REPLY_ERROR");case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()},b=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){var c,s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={headers:{"Content-Type":"application/json"}},a.prev=1,a.next=4,o.a.post("/post/".concat(e,"/addcomment"),t,c);case 4:s=a.sent,n({type:i.d,payload:{postId:e,comments:s.data.post.comments}}),n(Object(u.c)("Comment Added","success")),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),Object(u.a)(a.t0,"ADD_COMMENT_ERROR");case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()},h=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){var c,s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={headers:{"Content-Type":"application/json"}},a.prev=1,a.next=4,o.a.post("/post/".concat(e,"/addcomment"),t,c);case 4:s=a.sent,n({type:i.e,payload:{postId:e,comments:s.data.post.comments}}),n(Object(u.c)("Comment Added","success")),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),Object(u.a)(a.t0,"ADD_COMMENT_SINGLE_POST_ERROR");case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.delete("/post/deletepost/".concat(e));case 3:t.sent,a({type:i.u,payload:e}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Object(u.a)(t.t0,"DELETE_POST_ERROR");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},y=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o.a.delete("/post/deletepost/".concat(e));case 3:a.sent,n({type:"DELETE_MESSAGE",payload:e}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),Object(u.a)(a.t0,"DELETE_POST_ERROR");case 10:t();case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},O=function(e,t,a){return function(){var n=Object(c.a)(r.a.mark((function n(c){var s;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.a.delete("/post/deletepost/".concat(t));case 3:s=n.sent,c(a?{type:i.db,payload:{postId:e,commentId:t,comments:s.data}}:{type:i.bb,payload:{postId:e,commentId:t,comments:s.data}}),c(Object(u.c)("Comment Removed","success")),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),Object(u.a)(n.t0,"DELETE_POST_ERROR");case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}},596:function(e,t,a){"use strict";var n=a(21),r=a(0),c=a.n(r),s=a(55),o=a(579),u=a(570),i={name:"star",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM664.8 561.6l36.1 210.3L512 672.7 323.1 772l36.1-210.3-152.8-149L417.6 382 512 190.7 606.4 382l211.2 30.7-152.8 148.9z"}}]}},l=a(101),p=function(e,t){return c.a.createElement(l.a,Object.assign({},e,{ref:t,icon:i}))};p.displayName="StarOutlined";c.a.forwardRef(p);var m={name:"form",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]}},d=function(e,t){return c.a.createElement(l.a,Object.assign({},e,{ref:t,icon:m}))};d.displayName="FormOutlined";var f=c.a.forwardRef(d),v=a(19),b=a(22),h=a(575),E=a(239),y=a(335),O=a(576),g=a(20),j=a(585),x=a(190),S=a(609),R=a(584),k=a.n(R),w=a(34),C=Object(g.b)((function(e){return{auth:e.auth}}),{searchUser:w.g,clearAutoCompleteUserSearchResult:w.a})((function(e){var t=e.searchUser,a=(e.clearAutoCompleteUserSearchResult,e.auth),n=e.onChangeUserSelect;console.log("inside Message AutoCompleteUserSearch");var s=x.a.Option;Object(r.useEffect)((function(){}),[]);var o=a&&a.searchUserResult&&a.searchUserResult.length>0&&a.searchUserResult.map((function(e,t){return c.a.createElement(s,{key:t,value:e.email},c.a.createElement("span",{style:{fontWeigth:"bolder"}}," ",e.email))}));return c.a.createElement(S.a,{style:{width:"100%"},placeholder:"Type Name",onSelect:function(e){e&&(console.log(e),n(e))},onSearch:function(e){e&&k.a.debounce((function(){t(e)}),1e3)()}},o)})),T=(a(600),c.a.memo((function(e){var t=e.userId,a=e.sendPrivateMessage,i=e.toAddress,l=e.noMessagesFound,p=e.history,m=Object(r.useState)("small"),d=Object(n.a)(m,2),v=d[0],g=(d[1],Object(r.useState)(i||"")),j=Object(n.a)(g,2),x=j[0],S=j[1],R=Object(r.useState)(!1),k=Object(n.a)(R,2),w=k[0],T=k[1],_=Object(r.useState)("Send Private Message"),N=Object(n.a)(_,2),I=N[0],M=(N[1],function(){T(!0)}),P=function(){T(!1)},A={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},L=c.a.createElement(b.c,{initialValues:{userId:t,endUserId:x,subject:"",message:"",isPrivate:!0},onSubmit:function(e,t){e.endUserId=x,a(e,(function(e){e&&e.post&&e.post._id&&p.push("/messages/".concat(e.post._id))})),T(!1)},validator:function(){return{}},render:function(){return c.a.createElement("div",{style:{flex:1,padding:10}},c.a.createElement(h.a,Object.assign({className:"form-wrapper"},A,{layout:"vertical",initialValues:{size:v}}),i?"":c.a.createElement(E.a,{name:"endUserId",label:"Select your friends"},c.a.createElement(C,{onChangeUserSelect:function(e,t){S(e)}})),c.a.createElement(E.a,{name:"subject",label:"Subject"},c.a.createElement(y.a,{name:"subject",placeholder:"Subject"})),c.a.createElement(E.a,{name:"message",label:"Your Message",required:!1},c.a.createElement(y.a.TextArea,{className:"post-form-text-input post-form-textarea",name:"message",cols:"30",rows:"5",placeholder:"Enter your message ...",required:!1})),c.a.createElement(O.a,{className:"ant-btn btn-primary"}," Send")))}}),D=c.a.createElement("div",{className:"private-message-modal"},c.a.createElement("div",{as:"h4",className:"message-head-title"},"Inbox"),c.a.createElement("div",{as:"h4",className:"message-head-title message-head-link",onClick:M},c.a.createElement(f,{className:"message-head-icon"}),"Compose")),z=c.a.createElement("div",{className:"private-message-modal",onClick:M},c.a.createElement(s.a,{type:"primary",className:"btn-primary",style:{padding:"4px 10px",fontSize:"12px"}},"Message")),U=c.a.createElement("div",{className:"private-message-modal"},c.a.createElement(o.a,{status:"warning",subTitle:"No messages found!",extra:c.a.createElement("div",{as:"h4",className:"message-head-title message-head-link",onClick:M},c.a.createElement(f,{className:"message-head-icon"}),"Compose")}));return c.a.createElement("div",{className:"message-body__private-message-modal"},l&&U,!l&&!i&&D,i&&z,c.a.createElement(u.a,{title:I,centered:!0,visible:w,onOk:P,onCancel:P,destroyOnClose:!0,cancelButtonProps:{style:{display:"none"}},footer:null},L))}),(function(e,t){return!e.userId||e.userId===t.userId}))),_=function(e){return{hideModal:e.hideModal,currentGroup:e.group.currentGroup}};t.a=Object(g.b)(_,{sendPrivateMessage:j.k,mapDispatchToProps:_})(Object(v.h)(T))},600:function(e,t,a){},609:function(e,t,a){"use strict";var n=a(0),r=a(50),c=a(2),s=a.n(c),o=a(15),u=a(190),i=a(29),l=a(11);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=u.a.Option,f=u.a;function v(e){return e&&e.type&&(e.type.isSelectOption||e.type.isSelectOptGroup)}var b=n.forwardRef((function(e,t){var a,c=e.prefixCls,b=e.className,h=e.children,E=e.dataSource,y=Object(r.a)(h),O=n.useRef();n.useImperativeHandle(t,(function(){return O.current})),1===y.length&&n.isValidElement(y[0])&&!v(y[0])&&(a=y[0]);var g,j=function(){return a};return g=y.length&&v(y[0])?h:E?E.map((function(e){if(n.isValidElement(e))return e;switch(m(e)){case"string":return n.createElement(d,{key:e,value:e},e);case"object":var t=e.value;return n.createElement(d,{key:t,value:t},e.text);default:throw new Error("AutoComplete[dataSource] only supports type `string[] | Object[]`.")}})):[],n.useEffect((function(){Object(l.a)(!("dataSource"in e),"AutoComplete","`dataSource` is deprecated, please use `options` instead."),Object(l.a)(!a||!("size"in e),"AutoComplete","You need to control style self instead of setting `size` when using customize input.")}),[]),n.createElement(i.a,null,(function(t){var a=(0,t.getPrefixCls)("select",c);return n.createElement(f,p({ref:O},Object(o.a)(e,["dataSource"]),{prefixCls:a,className:s()(b,"".concat(a,"-auto-complete")),mode:u.a.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:j}),g)}))}));b.Option=d,t.a=b},669:function(e,t,a){},684:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c={name:"left-circle",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M603.3 327.5l-246 178a7.95 7.95 0 000 12.9l246 178c5.3 3.8 12.7 0 12.7-6.5V643c0-10.2-4.9-19.9-13.2-25.9L457.4 512l145.4-105.2c8.3-6 13.2-15.6 13.2-25.9V334c0-6.5-7.4-10.3-12.7-6.5z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]}},s=a(101),o=function(e,t){return r.a.createElement(s.a,Object.assign({},e,{ref:t,icon:c}))};o.displayName="LeftCircleOutlined";t.a=r.a.forwardRef(o)},695:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),s=a(20),o=(a(246),a(21)),u=a(692),i=(a(584),a(586)),l=a.n(i),p=a(596),m=(a(669),function(e){var t=e.profile,a=t.email,c=t.userGroup,s=(t.name,Object(n.useState)([])),i=Object(o.a)(s,2),m=i[0],d=i[1],f=Object(n.useState)([]),v=Object(o.a)(f,2),b=v[0];v[1];Object(n.useEffect)((function(){return function(){var e=[],t=[];c.map((function(a,n){"PRIVATE"===a.privacy?t.push(a):e.push(a)})),d(e)}(),function(){}}),[c]);var h=m.map((function(e){return r.a.createElement("div",{key:"public-".concat(e.id)},e.groupName)})),E=b.map((function(e){return r.a.createElement("div",{key:"private-".concat(e.id)},e.groupName)}));return r.a.createElement(u.a,{className:"profile-card",title:r.a.createElement(l.a,{length:80,tooltip:!0},a||""),extra:r.a.createElement(p.a,{toAddress:a})},b&&b.length>0&&r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-lock privacy-icon",title:"private group"}),"Private Groups"),r.a.createElement("div",{className:"groups-wrapper"},E)),m&&m.length>0&&r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-globe privacy-icon",title:"private group"}),"Public Groups"),r.a.createElement("div",{className:"groups-wrapper"},h)))}),d=a(5),f=a.n(d),v=a(13),b=a(8),h=a.n(b),E=a(6),y=a(3),O=a(684);t.default=Object(s.b)((function(e){return{profile:e.profile,auth:e.auth}}),{getProfileById:function(e){return function(){var t=Object(v.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("/user/getuserdetails?user="+e);case 3:n=t.sent,a({type:y.M,payload:n.data}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),Object(E.a)(t.t0,y.W),a({type:y.W});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.getProfileById,a=e.profile,s=a.profile,o=a.loading,u=(e.auth,e.match);return Object(n.useEffect)((function(){t(u.params.userId)}),[t,u.params.userId]),r.a.createElement(n.Fragment,null,null===s||o?r.a.createElement(n.Fragment,null,r.a.createElement(c.b,{to:"/dashboard/".concat(u.params.id),style:{fontSize:"1rem",marginLeft:"1rem",marginTop:"1rem",cursor:"pointer",display:"inline-block"}},r.a.createElement(O.a,null)),"'No User Details Found'"):r.a.createElement(n.Fragment,null,r.a.createElement(c.b,{to:"/dashboard/".concat(u.params.id),style:{fontSize:"1rem",marginLeft:"1rem",marginTop:"1rem",cursor:"pointer",display:"inline-block"}},r.a.createElement(O.a,null)),r.a.createElement(m,{profile:s})))}))}}]);
//# sourceMappingURL=12.86dff505.chunk.js.map