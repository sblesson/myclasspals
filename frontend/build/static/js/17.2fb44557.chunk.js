(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[17],{564:function(e,a,t){"use strict";t.r(a);var r=t(15),s=t(0),n=t.n(s),l=t(16),i=t(10),o=t(483),c=t(244),m=t(484),d=t(485),u=t(20),p=t(487),b=t(107),w=t(6),f=t(32),g=t(108);a.default=Object(l.b)((function(e){return{auth:e.auth,isLoading:e.school.isLoading}}),{setAlert:w.c,getuserbyregistrationid:f.b,register:f.f})((function(e){var a=e.setAlert,t=e.getuserbyregistrationid,l=e.register,w=e.auth,f=e.history,E=e.match,h=p.a.Title,v=p.a.Text,j=Object(s.useState)(""),O=Object(r.a)(j,2),y=O[0],x=O[1];Object(s.useEffect)((function(){var e=!1;return E.params&&!e&&(x(E.params.id),t(E.params.id)),function(){e=!0}}),[t,E]),Object(s.useEffect)((function(){w.invalidRegistrationToken&&(window.location.pathname="/register")}),[w.invalidRegistrationToken]);var k=Object(s.useState)({name:"",password:"",password2:""}),N=Object(r.a)(k,2),S=N[0],C=(N[1],S.name,S.password,S.password2,Object(s.useState)("small")),P=Object(r.a)(C,2),T=P[0],q=(P[1],Object(s.useState)(!1)),A=Object(r.a)(q,2),R=A[0],I=A[1],J={labelCol:{xs:{span:24},sm:{span:16},md:{span:20}},wrapperCol:{xs:{span:24},sm:{span:16},md:{span:20}}},L=function(e){return e?void 0:"required"},V=n.a.createElement(u.c,{initialValues:{name:"",email:"",password:"",password2:""},onSubmit:function(e){if(I(!0),e.password!==e.password2)a("Passwords do not match","error"),I(!1);else if(w&&w.user&&w.user.email){var t=w.user.email;y?l({name:e.name,email:t,password:e.password,regId:y},(function(e){I(!1),e.cancel(),Object(g.a)(w,f)})):l({name:e.name,email:t,password:e.password},(function(){I(!1),Object(g.a)(w,f)}))}},validator:function(){return{}},children:function(){return n.a.createElement("div",{style:{flex:1,padding:5}},n.a.createElement(o.a,Object.assign({className:"form-wrapper"},J,{layout:"vertical",initialValues:{size:T}}),n.a.createElement(c.a,{name:"name",label:"What should we call you?",required:!0,validate:L},n.a.createElement(m.a,{name:"name",placeholder:"Your name"})),n.a.createElement(c.a,{name:"password",label:"Password",required:!0,validate:L},n.a.createElement(m.a,{name:"password",type:"password",placeholder:"Password"})),n.a.createElement(c.a,{name:"password2",label:"Confirm Password",required:!0,validate:L},n.a.createElement(m.a,{name:"password2",type:"password",placeholder:"Confirm Password"})),n.a.createElement(c.a,{name:"submit"},n.a.createElement(d.a,{block:!0,className:"ant-btn btn-primary",loading:R}," ","Register")," ")))}});return n.a.createElement(s.Fragment,null,n.a.createElement("div",{className:"row",style:{marginTop:"20px"}},n.a.createElement(b.a,null),n.a.createElement("div",{className:"col col-4",style:{background:"#fff"}},n.a.createElement(h,{className:"form-title-text",level:4},"Create Your Account"),V,n.a.createElement(v,{className:"form-info-text"},"Already have an account? ",n.a.createElement(i.b,{to:"/login"},"Sign In")))))}))}}]);
//# sourceMappingURL=17.2fb44557.chunk.js.map