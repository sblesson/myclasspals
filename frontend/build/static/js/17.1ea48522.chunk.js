(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{626:function(e,a,t){"use strict";t.r(a);var r=t(17),n=t(0),s=t.n(n),l=t(15),o=t(10),i=t(480),c=t(241),m=t(481),d=t(482),u=t(20),p=t(484),w=t(106),b=t(6),f=t(32),g=t(107);a.default=Object(l.b)(function(e){return{auth:e.auth,isLoading:e.school.isLoading}},{setAlert:b.c,getuserbyregistrationid:f.b,register:f.f})(function(e){var a=e.setAlert,t=e.getuserbyregistrationid,l=e.register,b=e.auth,f=e.history,E=e.match,v=p.a.Title,h=p.a.Text,j=Object(n.useState)(""),O=Object(r.a)(j,2),y=O[0],x=O[1];Object(n.useEffect)(function(){var e=!1;return E.params&&!e&&(x(E.params.id),t(E.params.id)),function(){e=!0}},[t,E]),Object(n.useEffect)(function(){b.invalidRegistrationToken&&(window.location.pathname="/register")},[b.invalidRegistrationToken]);var k=Object(n.useState)({name:"",password:"",password2:""}),N=Object(r.a)(k,2),S=N[0],C=(N[1],S.name,S.password,S.password2,Object(n.useState)("small")),P=Object(r.a)(C,2),T=P[0],q=(P[1],Object(n.useState)(!1)),A=Object(r.a)(q,2),R=A[0],I=A[1],J={labelCol:{xs:{span:24},sm:{span:16},md:{span:20}},wrapperCol:{xs:{span:24},sm:{span:16},md:{span:20}}},L=function(e){return e?void 0:"required"},V=s.a.createElement(u.c,{initialValues:{name:"",email:"",password:"",password2:""},onSubmit:function(e){if(I(!0),e.password!==e.password2)a("Passwords do not match","error"),I(!1);else if(b&&b.user&&b.user.email){var t=b.user.email;y?l({name:e.name,email:t,password:e.password,regId:y},function(e){I(!1),e.cancel(),Object(g.a)(b,f)}):l({name:e.name,email:t,password:e.password},function(){I(!1),Object(g.a)(b,f)})}},validator:function(){return{}},children:function(){return s.a.createElement("div",{style:{flex:1,padding:5}},s.a.createElement(i.a,Object.assign({className:"form-wrapper"},J,{layout:"vertical",initialValues:{size:T}}),s.a.createElement(c.a,{name:"name",label:"What should we call you?",required:!0,validate:L},s.a.createElement(m.a,{name:"name",placeholder:"Your name"})),s.a.createElement(c.a,{name:"password",label:"Password",required:!0,validate:L},s.a.createElement(m.a,{name:"password",type:"password",placeholder:"Password"})),s.a.createElement(c.a,{name:"password2",label:"Confirm Password",required:!0,validate:L},s.a.createElement(m.a,{name:"password2",type:"password",placeholder:"Confirm Password"})),s.a.createElement(c.a,{name:"submit"},s.a.createElement(d.a,{block:!0,className:"ant-btn btn-primary",loading:R}," ","Register")," ")))}});return s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:"row",style:{marginTop:"20px"}},s.a.createElement(w.a,null),s.a.createElement("div",{className:"col col-4",style:{background:"#fff"}},s.a.createElement(v,{className:"form-title-text",level:4},"Create Your Account"),V,s.a.createElement(h,{className:"form-info-text"},"Already have an account? ",s.a.createElement(o.b,{to:"/login"},"Sign In")))))})}}]);
//# sourceMappingURL=17.1ea48522.chunk.js.map